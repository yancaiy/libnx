<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>libnx: include/switch/display/gfx.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">libnx
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li><li class="navelem"><a class="el" href="dir_42bea3d40f1f1694e41a8f3166c98108.html">switch</a></li><li class="navelem"><a class="el" href="dir_2b5b553157a94351151a308cd797ea35.html">display</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">gfx.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="gfx_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/**</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"> * @file gfx.h</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> * @brief High-level graphics API.</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> * This API exposes a framebuffer (technically speaking, a windowbuffer) to be used for drawing graphics.</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> * @author yellows8</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> * @copyright libnx Authors</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="preprocessor">#pragma once</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="preprocessor">#include &quot;../types.h&quot;</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="preprocessor">#include &quot;../nvidia/fence.h&quot;</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">/// Converts red, green, blue, and alpha components to packed RGBA8.</span></div><div class="line"><a name="l00013"></a><span class="lineno"><a class="line" href="gfx_8h.html#ada252b0d1c54c165a668d3bb1bee06c1">   13</a></span>&#160;<span class="comment"></span><span class="preprocessor">#define RGBA8(r,g,b,a)  (((r)&amp;0xff)|(((g)&amp;0xff)&lt;&lt;8)|(((b)&amp;0xff)&lt;&lt;16)|(((a)&amp;0xff)&lt;&lt;24))</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment">/// Same as \ref RGBA8 except with alpha=0xff.</span></div><div class="line"><a name="l00016"></a><span class="lineno"><a class="line" href="gfx_8h.html#a2ed799d2d34a926b6eb4126eebac974f">   16</a></span>&#160;<span class="comment"></span><span class="preprocessor">#define RGBA8_MAXALPHA(r,g,b) RGBA8(r,g,b,0xff)</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment">/// GfxMode set by \ref gfxSetMode. The default is GfxMode_LinearDouble. Note that the text-console (see console.h) sets this to GfxMode_TiledDouble.</span></div><div class="line"><a name="l00019"></a><span class="lineno"><a class="line" href="gfx_8h.html#a3059cc7b8b02f1202959f50fb07aa165">   19</a></span>&#160;<span class="comment"></span><span class="keyword">typedef</span> <span class="keyword">enum</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;{</div><div class="line"><a name="l00021"></a><span class="lineno"><a class="line" href="gfx_8h.html#a3059cc7b8b02f1202959f50fb07aa165a363e0f83e90173cd001a76eaf205a97b">   21</a></span>&#160;    <a class="code" href="gfx_8h.html#a3059cc7b8b02f1202959f50fb07aa165a363e0f83e90173cd001a76eaf205a97b">GfxMode_TiledDouble</a>, <span class="comment">///&lt; Double-buffering with raw tiled (block-linear) framebuffer.</span></div><div class="line"><a name="l00022"></a><span class="lineno"><a class="line" href="gfx_8h.html#a3059cc7b8b02f1202959f50fb07aa165a15255b9011ebafd3174fd6d0291699d8">   22</a></span>&#160;<span class="comment"></span>    <a class="code" href="gfx_8h.html#a3059cc7b8b02f1202959f50fb07aa165a15255b9011ebafd3174fd6d0291699d8">GfxMode_LinearDouble</a> <span class="comment">///&lt; Double-buffering with linear framebuffer, which is transferred to the actual framebuffer by \ref gfxFlushBuffers().</span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="comment"></span>} <a class="code" href="gfx_8h.html#a3059cc7b8b02f1202959f50fb07aa165">GfxMode</a>;</div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="comment">/// Framebuffer pixel-format is RGBA8888, there&#39;s no known way to change this.</span></div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="comment"></span><span class="comment"></span></div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="comment">/**</span></div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="comment"> * @brief Initializes the graphics subsystem.</span></div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="comment"> * @warning Do not use \ref viInitialize when using this function.</span></div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;Result <a class="code" href="gfx_8h.html#a28f1ebafbccc6628763bc381b6a72b31">gfxInitDefault</a>(<span class="keywordtype">void</span>);</div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="comment">/**</span></div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="comment"> * @brief Uninitializes the graphics subsystem.</span></div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="comment"> * @warning Do not use \ref viExit when using this function.</span></div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="keywordtype">void</span> <a class="code" href="gfx_8h.html#aa446ccfdfdd4c575e648956ae96f2a3b">gfxExit</a>(<span class="keywordtype">void</span>);</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="comment">/**</span></div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="comment"> * @brief Sets the resolution to be used when initializing the graphics subsystem.</span></div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="comment"> * @param[in] width Horizontal resolution, in pixels.</span></div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="comment"> * @param[in] height Vertical resolution, in pixels.</span></div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="comment"> * @note The default resolution is 720p.</span></div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="comment"> * @note This can only be used before calling \ref gfxInitDefault, this will use \ref fatalSimple otherwise. If the input is 0, the default resolution will be used during \ref gfxInitDefault. This sets the maximum resolution for the framebuffer, used during \ref gfxInitDefault. This is also used as the current resolution when crop isn&#39;t set. The width/height are reset to the default when \ref gfxExit is used.</span></div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="comment"> * @note Normally you should only use this when you need a maximum resolution larger than the default, see above.</span></div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="comment"> * @note The width and height are aligned to 4.</span></div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="keywordtype">void</span> <a class="code" href="gfx_8h.html#a825bc071450f60a4c38aceeb937abc02">gfxInitResolution</a>(u32 width, u32 height);</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="comment">/// Wrapper for \ref gfxInitResolution with resolution=1080p. Use this if you want to support 1080p or &gt;720p in docked-mode.</span></div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="gfx_8h.html#a6d05ae649eba4b91a3b93af1afaa3ad1">gfxInitResolutionDefault</a>(<span class="keywordtype">void</span>);</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="comment">/// Configure framebuffer crop, by default crop is all-zero. Use all-zero input to reset to default. \ref gfxExit resets this to the default.</span></div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<span class="comment">/// When the input is invalid this returns without changing the crop data, this includes the input values being larger than the framebuf width/height.</span></div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="comment">/// This will update the display width/height returned by \ref gfxGetFramebuffer, with that width/height being reset to the default when required.</span></div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;<span class="comment">/// \ref gfxGetFramebufferDisplayOffset uses absolute x/y, it will not adjust for non-zero crop left/top.</span></div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<span class="comment">/// When used during frame-drawing, this should be called before \ref gfxGetFramebuffer.</span></div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;<span class="comment">/// The right and bottom params are aligned to 4.</span></div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;<span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="gfx_8h.html#a3fea73bebd8b7c41393febfefbe263cc">gfxConfigureCrop</a>(s32 left, s32 top, s32 right, s32 bottom);</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;<span class="comment">/// Wrapper for \ref gfxConfigureCrop. Use this to set the resolution, within the bounds of the maximum resolution. Use all-zero input to reset to default.</span></div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;<span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="gfx_8h.html#aaa25069f4b80f87b148486fc93370174">gfxConfigureResolution</a>(s32 width, s32 height);</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;<span class="comment">/// If enabled, \ref gfxConfigureResolution will be used with the input resolution for the current OperationMode. Then \ref gfxConfigureResolution will automatically be used with the specified resolution each time OperationMode changes.</span></div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;<span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="gfx_8h.html#ae287c2224fd7a79d8a052f5e1cafd3af">gfxConfigureAutoResolution</a>(<span class="keywordtype">bool</span> enable, s32 handheld_width, s32 handheld_height, s32 docked_width, s32 docked_height);</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;<span class="comment">/// Wrapper for \ref gfxConfigureAutoResolution. handheld_resolution=720p, docked_resolution={all-zero for using current maximum resolution}.</span></div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;<span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="gfx_8h.html#ad431d984c3ed634e626937b5cd57b4ac">gfxConfigureAutoResolutionDefault</a>(<span class="keywordtype">bool</span> enable);</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;<span class="comment">/// Waits for vertical sync.</span></div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;<span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="gfx_8h.html#ac6d575417f221ba01ed96935ae3aae06">gfxWaitForVsync</a>(<span class="keywordtype">void</span>);</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;<span class="comment">/// Appends one or more fences that the display service will wait on before rendering the current framebuffer. Note that only up to 4 fences can be submitted.</span></div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;<span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="gfx_8h.html#a311b8155abcfee59fecacda17fefe52e">gfxAppendFence</a>(<a class="code" href="structNvMultiFence.html">NvMultiFence</a>* mf);</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;<span class="comment">/// Swaps the framebuffers.</span></div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;<span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="gfx_8h.html#a0f338920111994110975dc0d1360bb1f">gfxSwapBuffers</a>(<span class="keywordtype">void</span>);</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;<span class="comment">/// Get the specified framebuffer nvmap handle where index specifies the buffer number beginning with the back buffer, with optional output ptr for the offset in the buffer.</span></div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;<span class="comment"></span>u32 <a class="code" href="gfx_8h.html#a7b1ae152a525b172792b5cb40f055bf6">gfxGetFramebufferHandle</a>(u32 index, u32* offset);</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;<span class="comment">/// Get the current framebuffer address, with optional output ptrs for the display framebuffer width/height. The display width/height is adjusted by \ref gfxConfigureCrop and \ref gfxConfigureResolution.</span></div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;<span class="comment"></span>u8* <a class="code" href="gfx_8h.html#ae40f5ab006dd7514ac61ec85d8eeed67">gfxGetFramebuffer</a>(u32* width, u32* height);</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;<span class="comment">/// Get the framebuffer width/height without crop.</span></div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;<span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="gfx_8h.html#af7312f37406644e8aef016a3ab705682">gfxGetFramebufferResolution</a>(u32* width, u32* height);</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;<span class="comment">/// Use this to get the actual byte-size of the framebuffer for use with memset/etc.</span></div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;<span class="comment"></span><span class="keywordtype">size_t</span> <a class="code" href="gfx_8h.html#ab622831e9343177ac6be2efe062cfceb">gfxGetFramebufferSize</a>(<span class="keywordtype">void</span>);</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;<span class="comment">/// Use this to get the actual byte-pitch of the framebuffer for use with memset/etc.</span></div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;<span class="comment"></span>u32 <a class="code" href="gfx_8h.html#a8640c756658a35f9f5e53eff7fc8dd9e">gfxGetFramebufferPitch</a>(<span class="keywordtype">void</span>);</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;<span class="comment">/// Sets the \ref GfxMode.</span></div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;<span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="gfx_8h.html#a650e0b882b6f80bc73c1334ed1920c9e">gfxSetMode</a>(<a class="code" href="gfx_8h.html#a3059cc7b8b02f1202959f50fb07aa165">GfxMode</a> mode);</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;<span class="comment">/// Configures transform. See the NATIVE_WINDOW_TRANSFORM_* enums in buffer_producer.h. The default is 0.</span></div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;<span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="gfx_8h.html#a1c131e2c2af845f2f61267a95c632c66">gfxConfigureTransform</a>(u32 transform);</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;<span class="comment">/// Flushes the framebuffer in the data cache. When \ref GfxMode is GfxMode_LinearDouble, this also transfers the linear-framebuffer to the actual framebuffer.</span></div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;<span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="gfx_8h.html#aea1808bd74fe0c00f9794e455fc8499b">gfxFlushBuffers</a>(<span class="keywordtype">void</span>);</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;<span class="comment">/// Use this to get the pixel-offset in the framebuffer. Returned value is in pixels, not bytes.</span></div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;<span class="comment">/// This implements tegra blocklinear, with hard-coded constants etc.</span></div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;<span class="comment">/// Do not use this when \ref GfxMode is GfxMode_LinearDouble.</span></div><div class="line"><a name="l00106"></a><span class="lineno"><a class="line" href="gfx_8h.html#a193b917df83b7f60753937ebe60060a6">  106</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keyword">inline</span> u32 <a class="code" href="gfx_8h.html#a193b917df83b7f60753937ebe60060a6">gfxGetFramebufferDisplayOffset</a>(u32 x, u32 y) {</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    u32 tmp_pos;</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    <span class="keyword">extern</span> <span class="keywordtype">size_t</span> g_gfx_framebuf_aligned_width;</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    <span class="comment">//if (x &gt;= g_gfx_framebuf_width || y &gt;= g_gfx_framebuf_display_height) return (gfxGetFramebufferSize()-4)/4;//Return the last pixel-offset in the buffer, the data located here is not displayed due to alignment. (Disabled for perf)</span></div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    tmp_pos = ((y &amp; 127) / 16) + (x/16*8) + ((y/16/8)*(g_gfx_framebuf_aligned_width/16*8));</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    tmp_pos *= 16*16 * 4;</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;    tmp_pos += ((y%16)/8)*512 + ((x%16)/8)*256 + ((y%8)/2)*64 + ((x%8)/4)*32 + (y%2)*16 + (x%4)*4;<span class="comment">//This line is a modified version of code from the Tegra X1 datasheet.</span></div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;    <span class="keywordflow">return</span> tmp_pos / 4;</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;}</div><div class="ttc" id="gfx_8h_html_ae287c2224fd7a79d8a052f5e1cafd3af"><div class="ttname"><a href="gfx_8h.html#ae287c2224fd7a79d8a052f5e1cafd3af">gfxConfigureAutoResolution</a></div><div class="ttdeci">void gfxConfigureAutoResolution(bool enable, s32 handheld_width, s32 handheld_height, s32 docked_width, s32 docked_height)</div><div class="ttdoc">If enabled, gfxConfigureResolution will be used with the input resolution for the current OperationMo...</div></div>
<div class="ttc" id="gfx_8h_html_a1c131e2c2af845f2f61267a95c632c66"><div class="ttname"><a href="gfx_8h.html#a1c131e2c2af845f2f61267a95c632c66">gfxConfigureTransform</a></div><div class="ttdeci">void gfxConfigureTransform(u32 transform)</div><div class="ttdoc">Configures transform. See the NATIVE_WINDOW_TRANSFORM_* enums in buffer_producer.h. The default is 0. </div></div>
<div class="ttc" id="gfx_8h_html_a8640c756658a35f9f5e53eff7fc8dd9e"><div class="ttname"><a href="gfx_8h.html#a8640c756658a35f9f5e53eff7fc8dd9e">gfxGetFramebufferPitch</a></div><div class="ttdeci">u32 gfxGetFramebufferPitch(void)</div><div class="ttdoc">Use this to get the actual byte-pitch of the framebuffer for use with memset/etc. ...</div></div>
<div class="ttc" id="gfx_8h_html_a3059cc7b8b02f1202959f50fb07aa165"><div class="ttname"><a href="gfx_8h.html#a3059cc7b8b02f1202959f50fb07aa165">GfxMode</a></div><div class="ttdeci">GfxMode</div><div class="ttdoc">GfxMode set by gfxSetMode. The default is GfxMode_LinearDouble. Note that the text-console (see conso...</div><div class="ttdef"><b>Definition:</b> gfx.h:19</div></div>
<div class="ttc" id="gfx_8h_html_ab622831e9343177ac6be2efe062cfceb"><div class="ttname"><a href="gfx_8h.html#ab622831e9343177ac6be2efe062cfceb">gfxGetFramebufferSize</a></div><div class="ttdeci">size_t gfxGetFramebufferSize(void)</div><div class="ttdoc">Use this to get the actual byte-size of the framebuffer for use with memset/etc. </div></div>
<div class="ttc" id="gfx_8h_html_a0f338920111994110975dc0d1360bb1f"><div class="ttname"><a href="gfx_8h.html#a0f338920111994110975dc0d1360bb1f">gfxSwapBuffers</a></div><div class="ttdeci">void gfxSwapBuffers(void)</div><div class="ttdoc">Swaps the framebuffers. </div></div>
<div class="ttc" id="gfx_8h_html_a650e0b882b6f80bc73c1334ed1920c9e"><div class="ttname"><a href="gfx_8h.html#a650e0b882b6f80bc73c1334ed1920c9e">gfxSetMode</a></div><div class="ttdeci">void gfxSetMode(GfxMode mode)</div><div class="ttdoc">Sets the GfxMode. </div></div>
<div class="ttc" id="gfx_8h_html_a28f1ebafbccc6628763bc381b6a72b31"><div class="ttname"><a href="gfx_8h.html#a28f1ebafbccc6628763bc381b6a72b31">gfxInitDefault</a></div><div class="ttdeci">Result gfxInitDefault(void)</div><div class="ttdoc">Framebuffer pixel-format is RGBA8888, there&amp;#39;s no known way to change this. </div></div>
<div class="ttc" id="gfx_8h_html_ad431d984c3ed634e626937b5cd57b4ac"><div class="ttname"><a href="gfx_8h.html#ad431d984c3ed634e626937b5cd57b4ac">gfxConfigureAutoResolutionDefault</a></div><div class="ttdeci">void gfxConfigureAutoResolutionDefault(bool enable)</div><div class="ttdoc">Wrapper for gfxConfigureAutoResolution. handheld_resolution=720p, docked_resolution={all-zero for usi...</div></div>
<div class="ttc" id="gfx_8h_html_aaa25069f4b80f87b148486fc93370174"><div class="ttname"><a href="gfx_8h.html#aaa25069f4b80f87b148486fc93370174">gfxConfigureResolution</a></div><div class="ttdeci">void gfxConfigureResolution(s32 width, s32 height)</div><div class="ttdoc">Wrapper for gfxConfigureCrop. Use this to set the resolution, within the bounds of the maximum resolu...</div></div>
<div class="ttc" id="gfx_8h_html_a6d05ae649eba4b91a3b93af1afaa3ad1"><div class="ttname"><a href="gfx_8h.html#a6d05ae649eba4b91a3b93af1afaa3ad1">gfxInitResolutionDefault</a></div><div class="ttdeci">void gfxInitResolutionDefault(void)</div><div class="ttdoc">Wrapper for gfxInitResolution with resolution=1080p. Use this if you want to support 1080p or &gt;720p i...</div></div>
<div class="ttc" id="gfx_8h_html_a193b917df83b7f60753937ebe60060a6"><div class="ttname"><a href="gfx_8h.html#a193b917df83b7f60753937ebe60060a6">gfxGetFramebufferDisplayOffset</a></div><div class="ttdeci">static u32 gfxGetFramebufferDisplayOffset(u32 x, u32 y)</div><div class="ttdoc">Use this to get the pixel-offset in the framebuffer. </div><div class="ttdef"><b>Definition:</b> gfx.h:106</div></div>
<div class="ttc" id="gfx_8h_html_a7b1ae152a525b172792b5cb40f055bf6"><div class="ttname"><a href="gfx_8h.html#a7b1ae152a525b172792b5cb40f055bf6">gfxGetFramebufferHandle</a></div><div class="ttdeci">u32 gfxGetFramebufferHandle(u32 index, u32 *offset)</div><div class="ttdoc">Get the specified framebuffer nvmap handle where index specifies the buffer number beginning with the...</div></div>
<div class="ttc" id="gfx_8h_html_aa446ccfdfdd4c575e648956ae96f2a3b"><div class="ttname"><a href="gfx_8h.html#aa446ccfdfdd4c575e648956ae96f2a3b">gfxExit</a></div><div class="ttdeci">void gfxExit(void)</div><div class="ttdoc">Uninitializes the graphics subsystem. </div></div>
<div class="ttc" id="gfx_8h_html_a825bc071450f60a4c38aceeb937abc02"><div class="ttname"><a href="gfx_8h.html#a825bc071450f60a4c38aceeb937abc02">gfxInitResolution</a></div><div class="ttdeci">void gfxInitResolution(u32 width, u32 height)</div><div class="ttdoc">Sets the resolution to be used when initializing the graphics subsystem. </div></div>
<div class="ttc" id="gfx_8h_html_af7312f37406644e8aef016a3ab705682"><div class="ttname"><a href="gfx_8h.html#af7312f37406644e8aef016a3ab705682">gfxGetFramebufferResolution</a></div><div class="ttdeci">void gfxGetFramebufferResolution(u32 *width, u32 *height)</div><div class="ttdoc">Get the framebuffer width/height without crop. </div></div>
<div class="ttc" id="gfx_8h_html_a3fea73bebd8b7c41393febfefbe263cc"><div class="ttname"><a href="gfx_8h.html#a3fea73bebd8b7c41393febfefbe263cc">gfxConfigureCrop</a></div><div class="ttdeci">void gfxConfigureCrop(s32 left, s32 top, s32 right, s32 bottom)</div><div class="ttdoc">Configure framebuffer crop, by default crop is all-zero. </div></div>
<div class="ttc" id="gfx_8h_html_a311b8155abcfee59fecacda17fefe52e"><div class="ttname"><a href="gfx_8h.html#a311b8155abcfee59fecacda17fefe52e">gfxAppendFence</a></div><div class="ttdeci">void gfxAppendFence(NvMultiFence *mf)</div><div class="ttdoc">Appends one or more fences that the display service will wait on before rendering the current framebu...</div></div>
<div class="ttc" id="gfx_8h_html_a3059cc7b8b02f1202959f50fb07aa165a15255b9011ebafd3174fd6d0291699d8"><div class="ttname"><a href="gfx_8h.html#a3059cc7b8b02f1202959f50fb07aa165a15255b9011ebafd3174fd6d0291699d8">GfxMode_LinearDouble</a></div><div class="ttdoc">Double-buffering with linear framebuffer, which is transferred to the actual framebuffer by gfxFlushB...</div><div class="ttdef"><b>Definition:</b> gfx.h:22</div></div>
<div class="ttc" id="gfx_8h_html_a3059cc7b8b02f1202959f50fb07aa165a363e0f83e90173cd001a76eaf205a97b"><div class="ttname"><a href="gfx_8h.html#a3059cc7b8b02f1202959f50fb07aa165a363e0f83e90173cd001a76eaf205a97b">GfxMode_TiledDouble</a></div><div class="ttdoc">Double-buffering with raw tiled (block-linear) framebuffer. </div><div class="ttdef"><b>Definition:</b> gfx.h:21</div></div>
<div class="ttc" id="gfx_8h_html_ae40f5ab006dd7514ac61ec85d8eeed67"><div class="ttname"><a href="gfx_8h.html#ae40f5ab006dd7514ac61ec85d8eeed67">gfxGetFramebuffer</a></div><div class="ttdeci">u8 * gfxGetFramebuffer(u32 *width, u32 *height)</div><div class="ttdoc">Get the current framebuffer address, with optional output ptrs for the display framebuffer width/heig...</div></div>
<div class="ttc" id="gfx_8h_html_aea1808bd74fe0c00f9794e455fc8499b"><div class="ttname"><a href="gfx_8h.html#aea1808bd74fe0c00f9794e455fc8499b">gfxFlushBuffers</a></div><div class="ttdeci">void gfxFlushBuffers(void)</div><div class="ttdoc">Flushes the framebuffer in the data cache. When GfxMode is GfxMode_LinearDouble, this also transfers ...</div></div>
<div class="ttc" id="gfx_8h_html_ac6d575417f221ba01ed96935ae3aae06"><div class="ttname"><a href="gfx_8h.html#ac6d575417f221ba01ed96935ae3aae06">gfxWaitForVsync</a></div><div class="ttdeci">void gfxWaitForVsync(void)</div><div class="ttdoc">Waits for vertical sync. </div></div>
<div class="ttc" id="structNvMultiFence_html"><div class="ttname"><a href="structNvMultiFence.html">NvMultiFence</a></div><div class="ttdef"><b>Definition:</b> fence.h:6</div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
